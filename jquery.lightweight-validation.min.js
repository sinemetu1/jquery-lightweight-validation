(function(c){c.fn.extend({validateHandle:function(b){var a=c.extend({},c.fn.validateHandle.defaults,b);return this.each(function(){var b=c(this);c.each(a.defaultRule,function(c,e){b.data("appendTo",a.appendTo);b.data("errorClass",a.errorClass);b.hasClass(c)&&b.addRule(e);b.hasClass("strongPassword")&&bindValidateStrength(b)});b.bind("focusout.validateHandle",function(){"DIV"!==c(this).get(0).tagName&&setTimeout(function(){b.validate()},200)})})},addRule:function(b){return this.each(function(){var a=
c(this);(null===a.data("rules")||void 0===a.data("rules"))&&a.data("rules",[]);a.data("rules").push(b);a.hasClass("quiet")&&a.data("required",!1)})},applyRule:function(b){var a=c(this);switch(a.get(0).tagName){case "SELECT":void 0!==b.bool&&!b.bool()||void 0!==b.rule&&void 0!==b.rule.minLength&&(null!==a.val()?a.val().length:-1)<b.rule.minLength?a.raiseError(b):c(this).data("errored")&&a.hasClass("error")&&a.removeError();break;case "INPUT":if("text"===a.attr("type")||"password"===a.attr("type"))void 0!==
b.rule&&!b.rule.test(a.val())||void 0!==b.bool&&!b.bool()?a.raiseError(b):a.data("errored")&&a.hasClass("error")&&a.removeError();else if("radio"===a.attr("type")||"checkbox"===a.attr("type"))void 0!==b.rule&&void 0!==b.rule.minLength&&a.parent().find("[name="+a.attr("name")+"]:checked").length<b.rule.minLength||void 0!==b.bool&&!b.bool()?a.raiseError(b):a.data("errored")&&a.parent().hasClass("error")&&a.removeError();break;case "TEXTAREA":void 0!==b.rule&&!b.rule.test(a.val())||void 0!==b.bool&&
!b.bool()?a.raiseError(b):a.data("errored")&&a.hasClass("error")&&a.removeError();break;case "DIV":void 0!==b.rule&&!b.rule.test(a.val())||void 0!==b.bool&&!b.bool()?a.raiseError(b):a.data("errored")&&a.hasClass("error")&&a.removeError()}return!a.data("errored")},validate:function(){this.each(function(){var b=c(this),a=b.data("rules");if(null===a||void 0===a)return!0;if(!1===b.data("required")&&""===c.trim(b.val()))return b.data("errored")&&b.removeError(),!0;var d=!0;c.each(a,function(a,c){d&&(d=
b.applyRule(c))})});return 0<c(this).filter(".error").length?!1:!0},removeError:function(){return this.each(function(){var b=c(this).get(0).tagName,a=c(this),d=c("#"+a.attr("id")+"_error_label");if(("radio"===a.attr("type")||"checkbox"===a.attr("type"))&&"INPUT"===b)d=c("#"+a.attr("name")+"_error_label");d.prev("br").remove();d.next("br").remove();d.remove();a.removeClass("error");a.data("errored",!1);a.parent().removeClass("error");a.parent().find("[name="+a.attr("name")+"].error").removeClass("error")})},
raiseError:function(b){var a=b.message;return this.each(function(){var d=c(this),i=c(this).get(0).tagName,e=d.attr("id"),g=c("#"+e+"_error_label"),f=void 0!==d.data("appendTo")?d.data("appendTo"):b.appendTo,h=d.data("errorClass");if(("radio"===d.attr("type")||"checkbox"===d.attr("type"))&&"INPUT"===i)void 0!==d.attr("name")&&void 0===f?(errorLabel2=d.parent().parent().find("[id="+d.attr("name")+"_error_label]"),errorLabel2.prev("br").remove(),errorLabel2.next("br").remove(),errorLabel2.remove()):
void 0!==d.attr("name")&&void 0!==f&&(errorLabel2=f.find("[id="+d.attr("name")+"_error_label]"),errorLabel2.prev("br").remove(),errorLabel2.next("br").remove(),errorLabel2.remove()),e=d.attr("name"),d.parent().addClass("error");g.prev("br").remove();g.next("br").remove();g.remove();void 0!==f&&"undefined"!==f?c('<br/><label id="'+e+'_error_label" class="labelerror '+h+'">'+a+"</label><br/>").appendTo(f):"radio"===d.attr("type")||"checkbox"===d.attr("type")?c('<br/><label id="'+e+'_error_label" class="labelerror '+
h+'">'+a+"</label><br/>").appendTo(d.parents("[name="+d.attr("name")+"]").first()):c('<br/><label id="'+e+'_error_label" class="labelerror '+h+'">'+a+"</label><br/>").appendTo(d.parent());d.data("errored",!0);d.addClass("error")})},getDefaultRules:function(){return c.fn.validateHandle.defaults.defaultRule}});c.extend({validateHandle:function(b){return c().validateHandle(b)},addRule:function(b,a){return c().addRule(b,a)},validate:function(){return c().validate()},removeError:function(){return c().removeError()},
raiseError:function(b){return c().raiseError(b)},getDefaultRules:function(){return c().getDefaultRules()}});c.fn.validateHandle.defaults={defaultRule:{password:{rule:/^[a-zA-Z0-9]{6,100}$/,message:"Must be 6-100 characters in length."},username:{rule:/^[a-z0-9]{1,50}$/,message:"Must be 1-50 characters(a-z and 0-9) in length."},unicodeNonSpecial:{rule:/^([\s]*[a-zA-Z\u00C0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{1}[\s]*){1,100}$/,message:"Must be 1-100 characters in length. No special characters (!.*%@#)."},
telephone:{rule:/^\D?(\d{3})\D?\D?(\d{3})\D?(\d{4})$/,message:"Must be a valid telephone number."},email:{rule:/\w+[\w-\.]*\@\w+((-\w+)|(\w*))\.[a-z]{2,3}/,message:"Must be a valid email address."}},appendTo:void 0,errorClass:""}})(jQuery);
